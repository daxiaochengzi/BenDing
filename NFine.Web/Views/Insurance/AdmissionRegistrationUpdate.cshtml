@{
    ViewBag.Title = "医保入院登记修改";
    Layout = "~/Views/Shared/_Base.cshtml";
}
<style>
    .layui-card-header.layuibd-card-header-auto {
        padding-top: 15px;
        padding-bottom: 15px;
        height: auto;
    }

    .layuibd-card-header-auto i.layuibd-button-btn {
        position: relative;
        right: 0;
        top: 0;
        vertical-align: middle
    }
</style>
<div class="layui-fluid">
    <div class="layui-card">
        <form class="layui-form layui-form-pane" lay-filter="LAY-form-render">
            <input type="hidden" id="bid" value="@ViewBag.bid" placeholder="业务ID" />
            <input type="hidden" id="empid" value="@ViewBag.empid" placeholder="用户ID" />
            <div class="layui-card-header layuibd-card-header-auto">
                <!--主体部分-->
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label">住院编号</label>
                        <div class="layui-input-inline">
                            <input type="text" name="HospitalizationNo" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">入院日期</label>
                        <div class="layui-input-inline">
                            <input type="text" name="AdmissionDate" id="AdmissionDate" @*lay-verify="date"*@ placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">住院科室</label>
                        <div class="layui-input-inline">
                            <input type="text" name="DepartmentName" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">床位号</label>
                        <div class="layui-input-inline">
                            <input type="text" name="AdmissionBed" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">胎儿数</label>
                        <div class="layui-input-inline">
                            <input type="text" name="FetusNumber" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">户口性质</label>
                        <div class="layui-input-inline">
                            <select name="InsuranceType" @*lay-verify="required"*@>
                                <option value="">请选择户口性质</option>
                                <option value="10">城镇户口</option>
                                <option value="20">农业户口</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="layui-card-body" lay-size="sm">
                <!--诊断部分-->
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                    <legend>诊断列表</legend>
                </fieldset>
                <!--诊断列表-->
                <table id="LAY-table-data-id" class="layui-table" lay-size="sm" lay-filter="EditListTable">
                    <thead>
                        <tr>
                            <th lay-data="{type:'numbers',align:'center', width:60}">序号</th>
                            <th lay-data="{field:'UserId',align:'center', width:280}">诊断代码</th>
                            <th lay-data="{field:'UserName',align:'center', width:280}">诊断名称</th>
                            <th lay-data="{field:'Year',align:'center', width:120}">结果</th>
                            <th lay-data="{field:'M01',align:'center', width:80}">主诊</th>
                            <th lay-data="{align:'center', toolbar: '#handleBtn', fixed: 'right'}">操作</th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block">
                    <button type="submit" class="layui-btn layui-btn-radius" lay-submit="" lay-filter="demo1">修改</button>
                    <button type="button" class="layui-btn layui-btn-radius" id="LAY-component-form-getval">取消</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    (function () {

        //加载列表的后端 url
        var getListUrl = '';
        var tableOptions = {
            url: getListUrl, //请求地址
            method: 'POST', //方式
            id: 'listReload',
            page: false,
            where: { type: "all" }, 
            response: { 
            }
        };
        layui.use(['form', 'laypage', 'layer', 'table', 'element', 'laydate'], function () {
            var $ = layui.$
                , element = layui.element
                , form = layui.form
                , layer = layui.layer
                , table = layui.table
                , laydate = layui.laydate;
           
            form.render(null, 'LAY-form-render'); 
            //指定入院日期
            laydate.render({ elem: '#AdmissionDate' });

            //表初始化
            var createTable = function () {
                table.init('EditListTable', tableOptions); // table lay-filter
            };
            //表初始化
            createTable();
            
        })
    })();
</script>
<script type="text/html" id="handleBtn">
    <a class="layui-btn layui-btn-mini" lay-event="edit">编辑</a>
</script> 